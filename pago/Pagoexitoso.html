<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

        .text {
            text-align:center;color:#fff;font-size:20px;margin:0;padding-bottom:2px;height:20px;margin-bottom:10px;
        }
   
    </style>
    <link rel="stylesheet" href="../style.css">
 
</head>
<body>
    <div class="banner">
        <img src="../banner.jpg" alt="" />
      </div>
    <div style="width:100%;background:#14C38E;margin:auto;padding-bottom:50px;" >
    <h1 style="text-align:center;color:#fff;padding-top:20px;padding-bottom:20px;font-size:2rem;" id="title">¡Listo! Se acreditó tu pago</h1>
    <p  class="text" style="display:none;" id="warning">En estos momentos se esta procesando su pago , sin embargo ,  hemos reservado el turno que solicito. <br> En caso de que el pago se  rechace , se le enviara un correo notificandole que el turno se cancelo. <br></p>
    <p class="text" >Se reservo tu turno:  <span style="display:inline-block;padding-left:5px;" id="fecha"></span> </p>
    <p  class="text">Modalidad:  <span style="display:inline-block;padding-left:5px;" id="modalidad"></span> </p>
    <p  class="text">Encuentro: <span style="display:inline-block;padding-left:5px;" id="encuentro"></span> </p>
    <p  class="text">Precio: AR $  <span style="display:inline-block;padding-left:5px;" id="precio"></span></p> 
    
   
</div>
    </div>

    <footer style="background: #f1dede;position:absolute;bottom:0;;width:100vw;">
        <section class="contact">
          <h2
            style="
              margin-bottom: 20px;
              letter-spacing: 3px;
              text-transform: uppercase;
              padding-top: 20px;
            "
            ;
          >
            Contacto
          </h2>
          <div class="contact__containerInstagram">
            <svg
              fill="#000000"
              width="40px"
              height="40px"
              viewBox="0 0 32 32"
              xmlns="http://www.w3.org/2000/svg"
            >
              <title />

              <g id="Instagram">
                <path
                  d="M26.49,30H5.5A3.35,3.35,0,0,1,3,29a3.35,3.35,0,0,1-1-2.48V5.5A3.35,3.35,0,0,1,3,3,3.35,3.35,0,0,1,5.5,2h21A3.35,3.35,0,0,1,29,3,3.35,3.35,0,0,1,30,5.5v21A3.52,3.52,0,0,1,26.49,30ZM24.74,10.56a3.45,3.45,0,0,0-3.48-3.49H10.71a3.47,3.47,0,0,0-3.48,3.49V21.1a3.45,3.45,0,0,0,3.48,3.49H21.26a3.43,3.43,0,0,0,3.48-3.49Zm-8.73.9a4.09,4.09,0,0,0-1.38.24,5.36,5.36,0,0,0-1.24.63H9v-.87a2.56,2.56,0,0,1,2.61-2.62h8.75a2.63,2.63,0,0,1,1.89.75A2.48,2.48,0,0,1,23,11.46v.87H18.6a6.14,6.14,0,0,0-1.22-.63A3.87,3.87,0,0,0,16,11.46Zm4.35,11.41H11.61a2.48,2.48,0,0,1-1.86-.78A2.57,2.57,0,0,1,9,20.24v-7h3.49a5.49,5.49,0,0,0-.63,1.23,3.82,3.82,0,0,0-.25,1.4A4.19,4.19,0,0,0,12,17.55a5,5,0,0,0,.93,1.39,4.28,4.28,0,0,0,1.4.95,4.24,4.24,0,0,0,1.72.35,4.29,4.29,0,0,0,3.08-1.3A5,5,0,0,0,20,17.55a4.19,4.19,0,0,0,.35-1.69,3.82,3.82,0,0,0-.25-1.4,6.37,6.37,0,0,0-.6-1.23H23v7a2.52,2.52,0,0,1-.78,1.85A2.57,2.57,0,0,1,20.36,22.87ZM16,13.23a2.55,2.55,0,0,1,1.85.75,2.63,2.63,0,0,1,0,3.74,2.55,2.55,0,0,1-1.85.75,2.63,2.63,0,0,1-1.9-.75,2.66,2.66,0,0,1,0-3.74A2.63,2.63,0,0,1,16,13.23Zm3.5-1.77h1.75V9.71H19.51Z"
                />
              </g>
            </svg>
            <p
              style="
                line-height: 40px;
                font-size: 16px;
                font-weight: 800;
                color: #343837;
                margin-left: 10px;
              "
            >
              Instagram
            </p>
          </div>
          <div class="contact__containerEmail">
            <svg
              fill="#000000"
              width="40px"
              height="40px"
              viewBox="0 0 32 32"
              xmlns="http://www.w3.org/2000/svg"
            >
              <title />

              <g id="Email">
                <path
                  d="M26.49,30H5.5A3.35,3.35,0,0,1,3,29a3.35,3.35,0,0,1-1-2.48V5.5A3.35,3.35,0,0,1,3,3,3.35,3.35,0,0,1,5.5,2h21A3.35,3.35,0,0,1,29,3,3.35,3.35,0,0,1,30,5.5v21A3.52,3.52,0,0,1,26.49,30Zm-2.62-6.9a1,1,0,0,0,.57-.19,1.23,1.23,0,0,0,.7-1.1V9.93A.93.93,0,0,0,25,9.4a1.32,1.32,0,0,0-1.13-.74H7.93a.69.69,0,0,0-.3.1A1.26,1.26,0,0,0,6.77,9.9V21.81a1,1,0,0,0,.17.55,1.28,1.28,0,0,0,1.12.74Zm-1.36-2.66H9.41V13L16,18.21,22.51,13ZM16,14.81c-2.89-2.28-4.37-3.46-4.44-3.52H20.4Z"
                />
              </g>
            </svg>
            <p
              style="
                line-height: 40px;
                font-size: 18px;
                margin-left: 10px;
                color: #343837;
              "
            >
              Email
            </p>
          </div>
        </section>
      </footer>
      <script>
        const {id , status} = JSON.parse(sessionStorage.getItem('MP_status'))  

        if (status == 'in_process') {
          document.querySelector("#title").textContent = "Estamos procesando tu pago!"
          document.querySelector("#warning").style = "display:block;height:auto;"
        }
       
           getInfo =  async () => {
              const res =  await fetch(`../backend/getReserva.php?id=${id}`)
              const data = await res.json();
            
              renderizar(data[0]);
            };

         renderizar = async (data) => {
          
      
          const texto =  obtenerNombreMes(data.mes) +  ` ${data.date}, ${data.año} - ${data.desde}`;
          
            document.querySelector("#fecha").textContent = texto;
       
            document.querySelector("#modalidad").textContent = `${data.modalidad}`;
            if(data.modalidad == 'Presencial') {
              document.querySelector("#modalidad").textContent =    document.querySelector("#modalidad").textContent + ` (Calle 2568)`;
           }
            document.querySelector("#encuentro").textContent = `${data.encuentro}`;

            document.querySelector("#precio").textContent = `${data.precio}`
         }
         getInfo();
    
       
         function obtenerNombreMes (numero) {
        let miFecha = new Date();
        if (0 < numero && numero <= 12) {
         miFecha.setMonth(numero - 1);
          let fecha =  new Intl.DateTimeFormat('es-ES', { month: 'long'}).format(miFecha);
      
       const   fechaString =  fecha.charAt(0).toUpperCase() + fecha.slice(1)
         return fechaString;
  } else {
    return null;
  }
}

        
       </script>
</body>
</html>